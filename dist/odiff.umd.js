!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.odiff=n():e.odiff=n()}(this,function(){return function(e){function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";function r(e,n,t,r,a,i,f){for(var o=r-i,c=a-f,u=Math.max(o,c),s=1;s<=u;s++){var b=n[r-s],l=t[a-s];if(s<=c&&s<=o&&e(b,l))return{a:r-s,b:a-s};for(var p=0;p<s;p++){var y=n[r-p],h=t[a-p];if(s<=c&&e(y,l))return{a:r-p,b:a-s};if(s<=o&&e(b,h))return{a:r-s,b:a-p}}}return{a:i-1,b:f-1}}function a(e,n){if(e instanceof Array){if(!(n instanceof Array))return!1;for(var t=e.length/10,r=Math.abs(e.length-n.length),a=0;a<e.length;a++)if(!i(e[a],n[a])){if(r>=2&&r>t||r===e.length)return!1;r++}return!0}if(e instanceof Object){if(!(n instanceof Object))return!1;var c=o(f(Object.keys(e)),f(Object.keys(n))),u=Object.keys(c).length,t=u/10,r=0;for(var s in c){if(!i(e[s],n[s])){if(r>=2&&r>t||r+1===u)return!1;r++}}return!0}return e===n||Number.isNaN(e)&&Number.isNaN(n)}function i(e,n){if(e instanceof Array){if(!(n instanceof Array))return!1;if(e.length!==n.length)return!1;for(var t=0;t<e.length;t++)if(!i(e[t],n[t]))return!1;return!0}if(e instanceof Object){if(!(n instanceof Object)||n instanceof Array)return!1;var r=Object.keys(e),a=Object.keys(n);if(r.length!==a.length)return!1;for(var t=0;t<r.length;t++){var f=r[t];if(!i(e[f],n[f]))return!1}return!0}return e===n||Number.isNaN(e)&&Number.isNaN(n)}function f(e){var n={};return e.forEach(function(e){n[e]=!0}),n}function o(e,n){for(var t in n)e[t]=n[t];return e}e.exports=function(e,n){var t=[];return c(e,n,t,[]),t};var c=function(e,n,t,u){function s(e,n,t){e.push({type:"set",path:n,val:t})}function b(e,n,t,r,a){e.push({type:"rm",path:n,index:t,num:r,vals:a.slice(t,t+r)})}function l(e,n,t,r){e.push({type:"add",path:n,index:t,vals:r})}if(!(e===n||Number.isNaN(e)&&Number.isNaN(n)))if(e instanceof Array&&n instanceof Array){for(var p=e.length-1,y=n.length-1;p>=0&&y>=0;)if(i(e[p],n[y]))p--,y--;else{for(var h=r(i,e,n,p,y,0,0),v=p,g=y;v>h.a&&g>h.b;)if(a(e[v],n[g]))c(e[v],n[g],t,u.concat([v])),v--,g--;else{var j=r(a,e,n,v,g,h.a+1,h.b+1),N=v-j.a,d=g-j.b;1===N&&1===d?s(t,u.concat(j.a+1),n[j.b+1]):1===N&&2===d?(l(t,u,j.a+2,n.slice(j.b+2,g+1)),s(t,u.concat(j.a+1),n[j.b+1])):2===N&&1===d?(b(t,u,j.a+2,1,e),s(t,u.concat(j.a+1),n[j.b+1])):2===N&&2===d?(s(t,u.concat(j.a+2),n[j.b+2]),s(t,u.concat(j.a+1),n[j.b+1])):(N>0&&b(t,u,j.a+1,N,e),d>0&&l(t,u,j.a+1,n.slice(j.b+1,g+1))),v=j.a,g=j.b}v>h.a?b(t,u,h.a+1,v-h.a,e):g>h.b&&l(t,u,v+1,n.slice(h.b+1,g+1)),p=h.a,y=h.b}p>=0?b(t,u,0,p+1,e):y>=0&&l(t,u,0,n.slice(0,y+1))}else if(e instanceof Date&&n instanceof Date)e.getTime()!==n.getTime()&&s(t,u,n);else if(e instanceof Array&&!(n instanceof Array)||n instanceof Array&&!(e instanceof Array))s(t,u,n);else if(e instanceof Object&&n instanceof Object){var m=o(f(Object.keys(e)),f(Object.keys(n)));for(var O in m){var x=u.concat([O]);O in e&&!(O in n)?function(e,n){e.push({type:"unset",path:n})}(t,x):c(e[O],n[O],t,x)}}else s(t,u,n)};e.exports.similar=a,e.exports.equal=i}])});